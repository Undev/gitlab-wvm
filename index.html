<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Gitlab-wvm by zzet</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Gitlab-wvm</h1>
        <p class="header">gitlab vagrant</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/zzet/gitlab-wvm/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/zzet/gitlab-wvm/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/zzet/gitlab-wvm">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/zzet">zzet</a></p>


      </header>
      <section>
        <ul>
<li>Install ansible (with galaxy) on host machine</li>
<li>Clone repo</li>
<li>DOIT:</li>
</ul><div class="highlight highlight-bash"><pre><span class="nv">$ </span><span class="nb">cd </span>gitlab-wvm
<span class="nv">$ </span>prepare.sh
<span class="nv">$ </span>vagrant up
</pre></div>

<ul>
<li>Uncomment and edit path to source code in <code>Vagrantfile</code>
</li>
</ul><p><a href="https://bitdeli.com/free" title="Bitdeli Badge"><img src="https://d2weczhvl823v0.cloudfront.net/zzet/gitlab-wvm/trend.png" alt="Bitdeli Badge"></a></p>

<p>sample output:</p>

<div class="highlight highlight-bash"><pre>
<span class="o">[</span>default<span class="o">]</span> Running provisioner: ansible...

PLAY <span class="o">[</span>all<span class="o">]</span> ********************************************************************

GATHERING FACTS ***************************************************************
&lt;127.0.0.1&gt; REMOTE_MODULE setup
ok: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> checks <span class="k">if</span> resolver is working properly <span class="o">(</span>issues with some VBox/Host OS combinations<span class="o">)]</span> ***
&lt;127.0.0.1&gt; REMOTE_MODULE <span class="nb">command </span>host -t A ansible.cc
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"cmd"</span>: <span class="o">[</span><span class="s2">"host"</span>, <span class="s2">"-t"</span>, <span class="s2">"A"</span>, <span class="s2">"ansible.cc"</span><span class="o">]</span>, <span class="s2">"delta"</span>: <span class="s2">"0:00:00.095846"</span>, <span class="s2">"end"</span>: <span class="s2">"2014-01-06 19:23:45.856161"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"rc"</span>: 0, <span class="s2">"start"</span>: <span class="s2">"2014-01-06 19:23:45.760315"</span>, <span class="s2">"stderr"</span>: <span class="s2">""</span>, <span class="s2">"stdout"</span>: <span class="s2">"ansible.cc has address 97.107.116.231"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> pushes new resolver configuration is resolver fails<span class="o">]</span> *****
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> checks <span class="k">if</span> resolver is working properly with new nameserver<span class="o">]</span> ***
&lt;127.0.0.1&gt; REMOTE_MODULE <span class="nb">command </span>host -t A ansible.cc
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"cmd"</span>: <span class="o">[</span><span class="s2">"host"</span>, <span class="s2">"-t"</span>, <span class="s2">"A"</span>, <span class="s2">"ansible.cc"</span><span class="o">]</span>, <span class="s2">"delta"</span>: <span class="s2">"0:00:00.037473"</span>, <span class="s2">"end"</span>: <span class="s2">"2014-01-06 19:23:46.147218"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"rc"</span>: 0, <span class="s2">"start"</span>: <span class="s2">"2014-01-06 19:23:46.109745"</span>, <span class="s2">"stderr"</span>: <span class="s2">""</span>, <span class="s2">"stdout"</span>: <span class="s2">"ansible.cc has address 97.107.116.231"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> make sure the system encoding is <span class="o">{{</span>locale<span class="o">}}]</span> *************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 0, <span class="s2">"group"</span>: <span class="s2">"root"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"root"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/default/locale"</span>, <span class="s2">"size"</span>: 40, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 0<span class="o">}</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> ensure apt cache is up to date<span class="o">]</span> **************************
&lt;127.0.0.1&gt; REMOTE_MODULE apt <span class="nv">update_cache</span><span class="o">=</span>yes
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">""</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> install  pkgs<span class="o">]</span> *******************************************
&lt;127.0.0.1&gt; REMOTE_MODULE apt <span class="nv">pkg</span><span class="o">=</span>curl,vim,git,runit,htop,atop,imagemagick,python-pycurl
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>curl,vim,git,runit,htop,atop,imagemagick,python-pycurl<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">"curl,vim,git,runit,htop,atop,imagemagick,python-pycurl"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> create users<span class="o">]</span> ********************************************
&lt;127.0.0.1&gt; REMOTE_MODULE user <span class="nv">name</span><span class="o">=</span>git <span class="nv">home</span><span class="o">=</span>/var/git <span class="nv">comment</span><span class="o">=</span><span class="s2">"Gitlab git and run user"</span> <span class="nv">generate_ssh_key</span><span class="o">=</span>yes <span class="nv">state</span><span class="o">=</span>present
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"append"</span>: <span class="nb">false</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"group"</span>: 1003, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span>, <span class="s2">"shell"</span>: <span class="s2">"/bin/sh"</span>, <span class="s2">"ssh_fingerprint"</span>: <span class="s2">"2048 43:d4:f9:67:38:73:20:09:e9:f9:26:3a:42:bf:54:09  ansible-generated (RSA)"</span>, <span class="s2">"ssh_key_file"</span>: <span class="s2">"/var/git/.ssh/id_rsa"</span>, <span class="s2">"ssh_public_key"</span>: <span class="s2">"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDfg9/CVEyA/5qVJnH3whgnMeqh7Ivg/S04yY6MBosKslGAFYB/iTCBRO1eoYYH2Hu5VzlhUVJaibR4Dj8VgX9Pvj6RZwncDPBtlQwosenssqNdPKaVkp4TKAbjbXolTbeLWiBFgeKazoTlqzEiBr+/4Fvf+geqh3htf4OScQXTEccRDqSE9c0y90mvfftYfdsr1b5KwVW6FF7CqzZ1ekDU9RKruUmk21nhIBfSm7qh47tBUDoYXRAwHEbEUeh3u0H1WwU4pKdONaYPYOxQZarOeD8KbsJnI3BWccDfKUi/I371JaUzzLxFbgh+6g7VKYsueeBE5r7IjQMXq0cZQvJ3 ansible-generated"</span>, <span class="s2">"state"</span>: <span class="s2">"present"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE user <span class="nv">name</span><span class="o">=</span>gitlab <span class="nv">home</span><span class="o">=</span>/home/gitlab <span class="nv">comment</span><span class="o">=</span><span class="s2">"Gitlab deploy user"</span> <span class="nv">generate_ssh_key</span><span class="o">=</span>yes <span class="nv">state</span><span class="o">=</span>present
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"append"</span>: <span class="nb">false</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"group"</span>: 1004, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"shell"</span>: <span class="s2">"/bin/sh"</span>, <span class="s2">"ssh_fingerprint"</span>: <span class="s2">"2048 7f:f4:79:1c:32:0d:b6:58:e7:b9:e1:3a:d9:3e:84:06  ansible-generated (RSA)"</span>, <span class="s2">"ssh_key_file"</span>: <span class="s2">"/home/gitlab/.ssh/id_rsa"</span>, <span class="s2">"ssh_public_key"</span>: <span class="s2">"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDTvJsbB4rqI8MeyywnyXqYbjPsOK4hKSrXw/+RNLCwIY97V2ncDzoZLBo6MXK7uQrfD/Q894CUqV9+SSiB7m3TRa1aeM6DLDdPY+P4OEVkex4C3khhanw8GmAoFiQ4vnZxYu10hT7WV1mHq69zLJ12F4jwMyE95h8sBG6So1IHAArcBN8+r33HaNaNH4NhpU3aZUgnnSkopKJru+97j9SEYNWapRiHnmGGigyor4Il5MqaYoeUUEJIxfieqUta/5pH5sN9+jR9SJ9InxXg1TEHGb+l/4Bn9QXZm1NSCC8AlmKzyGA6tdJPPJIkN0WUC4e0s8e1i97ZDcukhUPFO3x/ ansible-generated"</span>, <span class="s2">"state"</span>: <span class="s2">"present"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> add ~/.bashrc to user<span class="o">]</span> ***********************************
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>touch <span class="nv">dest</span><span class="o">=</span><span class="s2">"/var/git/.bashrc"</span>
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"dest"</span>: <span class="s2">"/var/git/.bashrc"</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"size"</span>: 3512, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>touch <span class="nv">dest</span><span class="o">=</span><span class="s2">"/home/gitlab/.bashrc"</span>
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"dest"</span>: <span class="s2">"/home/gitlab/.bashrc"</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"size"</span>: 3512, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> update users groups<span class="o">]</span> *************************************
&lt;127.0.0.1&gt; REMOTE_MODULE user <span class="nv">name</span><span class="o">=</span>git <span class="nv">groups</span><span class="o">=</span>git,gitlab
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"append"</span>: <span class="nb">false</span>, <span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"group"</span>: 1003, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span>, <span class="s2">"shell"</span>: <span class="s2">"/bin/sh"</span>, <span class="s2">"state"</span>: <span class="s2">"present"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE user <span class="nv">name</span><span class="o">=</span>gitlab <span class="nv">groups</span><span class="o">=</span>git,gitlab
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"append"</span>: <span class="nb">false</span>, <span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"group"</span>: 1004, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"shell"</span>: <span class="s2">"/bin/sh"</span>, <span class="s2">"state"</span>: <span class="s2">"present"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.common <span class="p">|</span> app_prepare <span class="p">|</span> Create apps users path<span class="o">]</span> ********************
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 0, <span class="s2">"group"</span>: <span class="s2">"root"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"root"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 0<span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> install build depends<span class="o">]</span> ************************************
&lt;127.0.0.1&gt; REMOTE_MODULE apt <span class="nv">pkg</span><span class="o">=</span>build-essential,git,libcurl4-openssl-dev,libreadline-dev,libssl-dev,libxml2-dev,libxslt1-dev,zlib1g-dev <span class="nv">state</span><span class="o">=</span>latest <span class="nv">install_recommends</span><span class="o">=</span>no
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>build-essential,git,libcurl4-openssl-dev,libreadline-dev,libssl-dev,libxml2-dev,libxslt1-dev,zlib1g-dev<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">"build-essential,git,libcurl4-openssl-dev,libreadline-dev,libssl-dev,libxml2-dev,libxslt1-dev,zlib1g-dev"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> checkout rbenv_repo<span class="o">]</span> **************************************
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/rbenv.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv <span class="nv">version</span><span class="o">=</span>v0.4.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"9375e99f921f428849f19efe2a2e500b3295d1a7"</span>, <span class="s2">"before"</span>: <span class="s2">"9375e99f921f428849f19efe2a2e500b3295d1a7"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">""</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> create plugins directory<span class="o">]</span> *********************************
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>~/.rbenv/plugins
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1000, <span class="s2">"group"</span>: <span class="s2">"vagrant"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0775"</span>, <span class="s2">"owner"</span>: <span class="s2">"vagrant"</span>, <span class="s2">"path"</span>: <span class="s2">"/home/vagrant/.rbenv/plugins"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1000<span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> install plugins<span class="o">]</span> ******************************************
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/rbenv-vars.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-vars <span class="nv">version</span><span class="o">=</span>v1.2.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/sstephenson/rbenv-vars.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.2.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-vars'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"a75e684c41737d234e78e89e5a56e0543cea882b"</span>, <span class="s2">"before"</span>: <span class="s2">"a75e684c41737d234e78e89e5a56e0543cea882b"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-vars"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/sstephenson/rbenv-vars.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.2.0"</span><span class="o">}}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/ruby-build.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/ruby-build <span class="nv">version</span><span class="o">=</span>v20131225.1
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/sstephenson/ruby-build.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v20131225.1'</span>, <span class="s1">'name'</span>: <span class="s1">'ruby-build'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"69f8dcc8b7cc746be3b0ca7008606d2302bb5f09"</span>, <span class="s2">"before"</span>: <span class="s2">"69f8dcc8b7cc746be3b0ca7008606d2302bb5f09"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"ruby-build"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/sstephenson/ruby-build.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v20131225.1"</span><span class="o">}}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/rbenv-default-gems.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-default-gems <span class="nv">version</span><span class="o">=</span>v1.0.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/sstephenson/rbenv-default-gems.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.0.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-default-gems'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"a8ce628f4e0ad3ff043f6e260c81f11e5c602f77"</span>, <span class="s2">"before"</span>: <span class="s2">"a8ce628f4e0ad3ff043f6e260c81f11e5c602f77"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-default-gems"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/sstephenson/rbenv-default-gems.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.0.0"</span><span class="o">}}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/fesplugas/rbenv-installer.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-installer <span class="nv">version</span><span class="o">=</span>8bb9d34d01f78bd22e461038e887d6171706e1ba
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/fesplugas/rbenv-installer.git'</span>, <span class="s1">'version'</span>: <span class="s1">'8bb9d34d01f78bd22e461038e887d6171706e1ba'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-installer'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"8bb9d34d01f78bd22e461038e887d6171706e1ba"</span>, <span class="s2">"before"</span>: <span class="s2">"8bb9d34d01f78bd22e461038e887d6171706e1ba"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-installer"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/fesplugas/rbenv-installer.git"</span>, <span class="s2">"version"</span>: <span class="s2">"8bb9d34d01f78bd22e461038e887d6171706e1ba"</span><span class="o">}}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/rkh/rbenv-update.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-update <span class="nv">version</span><span class="o">=</span>32218db487dca7084f0e1954d613927a74bc6f2d
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/rkh/rbenv-update.git'</span>, <span class="s1">'version'</span>: <span class="s1">'32218db487dca7084f0e1954d613927a74bc6f2d'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-update'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"32218db487dca7084f0e1954d613927a74bc6f2d"</span>, <span class="s2">"before"</span>: <span class="s2">"32218db487dca7084f0e1954d613927a74bc6f2d"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-update"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/rkh/rbenv-update.git"</span>, <span class="s2">"version"</span>: <span class="s2">"32218db487dca7084f0e1954d613927a74bc6f2d"</span><span class="o">}}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/rkh/rbenv-whatis.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-whatis <span class="nv">version</span><span class="o">=</span>v1.0.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/rkh/rbenv-whatis.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.0.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-whatis'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"1394c37195bee3b8ed7cce6340323f9e53bd3868"</span>, <span class="s2">"before"</span>: <span class="s2">"1394c37195bee3b8ed7cce6340323f9e53bd3868"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-whatis"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/rkh/rbenv-whatis.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.0.0"</span><span class="o">}}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/rkh/rbenv-use.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-use <span class="nv">version</span><span class="o">=</span>v1.0.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/rkh/rbenv-use.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.0.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-use'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"bb329487ba783bf42ce4610eeb3292a42a999126"</span>, <span class="s2">"before"</span>: <span class="s2">"bb329487ba783bf42ce4610eeb3292a42a999126"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-use"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/rkh/rbenv-use.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.0.0"</span><span class="o">}}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> checkout rbenv_repo <span class="k">for</span> selected users<span class="o">]</span> *******************
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/rbenv.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv <span class="nv">version</span><span class="o">=</span>v0.4.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"9375e99f921f428849f19efe2a2e500b3295d1a7"</span>, <span class="s2">"before"</span>: <span class="s2">"9375e99f921f428849f19efe2a2e500b3295d1a7"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/rbenv.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv <span class="nv">version</span><span class="o">=</span>v0.4.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"9375e99f921f428849f19efe2a2e500b3295d1a7"</span>, <span class="s2">"before"</span>: <span class="s2">"9375e99f921f428849f19efe2a2e500b3295d1a7"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> create plugins directory <span class="k">for</span> selected users<span class="o">]</span> **************
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>~/.rbenv/plugins
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/var/git/.rbenv/plugins"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>~/.rbenv/plugins
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/home/gitlab/.rbenv/plugins"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> install plugins <span class="k">for</span> selected users<span class="o">]</span> ***********************
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/rbenv-vars.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-vars <span class="nv">version</span><span class="o">=</span>v1.2.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/sstephenson/rbenv-vars.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.2.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-vars'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"a75e684c41737d234e78e89e5a56e0543cea882b"</span>, <span class="s2">"before"</span>: <span class="s2">"a75e684c41737d234e78e89e5a56e0543cea882b"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-vars"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/sstephenson/rbenv-vars.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.2.0"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/ruby-build.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/ruby-build <span class="nv">version</span><span class="o">=</span>v20131225.1
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/sstephenson/ruby-build.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v20131225.1'</span>, <span class="s1">'name'</span>: <span class="s1">'ruby-build'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"69f8dcc8b7cc746be3b0ca7008606d2302bb5f09"</span>, <span class="s2">"before"</span>: <span class="s2">"69f8dcc8b7cc746be3b0ca7008606d2302bb5f09"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"ruby-build"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/sstephenson/ruby-build.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v20131225.1"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/rbenv-default-gems.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-default-gems <span class="nv">version</span><span class="o">=</span>v1.0.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/sstephenson/rbenv-default-gems.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.0.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-default-gems'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"a8ce628f4e0ad3ff043f6e260c81f11e5c602f77"</span>, <span class="s2">"before"</span>: <span class="s2">"a8ce628f4e0ad3ff043f6e260c81f11e5c602f77"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-default-gems"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/sstephenson/rbenv-default-gems.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.0.0"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/fesplugas/rbenv-installer.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-installer <span class="nv">version</span><span class="o">=</span>8bb9d34d01f78bd22e461038e887d6171706e1ba
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/fesplugas/rbenv-installer.git'</span>, <span class="s1">'version'</span>: <span class="s1">'8bb9d34d01f78bd22e461038e887d6171706e1ba'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-installer'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"8bb9d34d01f78bd22e461038e887d6171706e1ba"</span>, <span class="s2">"before"</span>: <span class="s2">"8bb9d34d01f78bd22e461038e887d6171706e1ba"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-installer"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/fesplugas/rbenv-installer.git"</span>, <span class="s2">"version"</span>: <span class="s2">"8bb9d34d01f78bd22e461038e887d6171706e1ba"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/rkh/rbenv-update.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-update <span class="nv">version</span><span class="o">=</span>32218db487dca7084f0e1954d613927a74bc6f2d
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/rkh/rbenv-update.git'</span>, <span class="s1">'version'</span>: <span class="s1">'32218db487dca7084f0e1954d613927a74bc6f2d'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-update'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"32218db487dca7084f0e1954d613927a74bc6f2d"</span>, <span class="s2">"before"</span>: <span class="s2">"32218db487dca7084f0e1954d613927a74bc6f2d"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-update"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/rkh/rbenv-update.git"</span>, <span class="s2">"version"</span>: <span class="s2">"32218db487dca7084f0e1954d613927a74bc6f2d"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/rkh/rbenv-whatis.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-whatis <span class="nv">version</span><span class="o">=</span>v1.0.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/rkh/rbenv-whatis.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.0.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-whatis'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"1394c37195bee3b8ed7cce6340323f9e53bd3868"</span>, <span class="s2">"before"</span>: <span class="s2">"1394c37195bee3b8ed7cce6340323f9e53bd3868"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-whatis"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/rkh/rbenv-whatis.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.0.0"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/rkh/rbenv-use.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-use <span class="nv">version</span><span class="o">=</span>v1.0.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/rkh/rbenv-use.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.0.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-use'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"bb329487ba783bf42ce4610eeb3292a42a999126"</span>, <span class="s2">"before"</span>: <span class="s2">"bb329487ba783bf42ce4610eeb3292a42a999126"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-use"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/rkh/rbenv-use.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.0.0"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/rbenv-vars.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-vars <span class="nv">version</span><span class="o">=</span>v1.2.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/sstephenson/rbenv-vars.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.2.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-vars'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"a75e684c41737d234e78e89e5a56e0543cea882b"</span>, <span class="s2">"before"</span>: <span class="s2">"a75e684c41737d234e78e89e5a56e0543cea882b"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-vars"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/sstephenson/rbenv-vars.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.2.0"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/ruby-build.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/ruby-build <span class="nv">version</span><span class="o">=</span>v20131225.1
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/sstephenson/ruby-build.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v20131225.1'</span>, <span class="s1">'name'</span>: <span class="s1">'ruby-build'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"69f8dcc8b7cc746be3b0ca7008606d2302bb5f09"</span>, <span class="s2">"before"</span>: <span class="s2">"69f8dcc8b7cc746be3b0ca7008606d2302bb5f09"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"ruby-build"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/sstephenson/ruby-build.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v20131225.1"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/sstephenson/rbenv-default-gems.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-default-gems <span class="nv">version</span><span class="o">=</span>v1.0.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/sstephenson/rbenv-default-gems.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.0.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-default-gems'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"a8ce628f4e0ad3ff043f6e260c81f11e5c602f77"</span>, <span class="s2">"before"</span>: <span class="s2">"a8ce628f4e0ad3ff043f6e260c81f11e5c602f77"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-default-gems"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/sstephenson/rbenv-default-gems.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.0.0"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/fesplugas/rbenv-installer.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-installer <span class="nv">version</span><span class="o">=</span>8bb9d34d01f78bd22e461038e887d6171706e1ba
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/fesplugas/rbenv-installer.git'</span>, <span class="s1">'version'</span>: <span class="s1">'8bb9d34d01f78bd22e461038e887d6171706e1ba'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-installer'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"8bb9d34d01f78bd22e461038e887d6171706e1ba"</span>, <span class="s2">"before"</span>: <span class="s2">"8bb9d34d01f78bd22e461038e887d6171706e1ba"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-installer"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/fesplugas/rbenv-installer.git"</span>, <span class="s2">"version"</span>: <span class="s2">"8bb9d34d01f78bd22e461038e887d6171706e1ba"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/rkh/rbenv-update.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-update <span class="nv">version</span><span class="o">=</span>32218db487dca7084f0e1954d613927a74bc6f2d
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/rkh/rbenv-update.git'</span>, <span class="s1">'version'</span>: <span class="s1">'32218db487dca7084f0e1954d613927a74bc6f2d'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-update'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"32218db487dca7084f0e1954d613927a74bc6f2d"</span>, <span class="s2">"before"</span>: <span class="s2">"32218db487dca7084f0e1954d613927a74bc6f2d"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-update"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/rkh/rbenv-update.git"</span>, <span class="s2">"version"</span>: <span class="s2">"32218db487dca7084f0e1954d613927a74bc6f2d"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/rkh/rbenv-whatis.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-whatis <span class="nv">version</span><span class="o">=</span>v1.0.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/rkh/rbenv-whatis.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.0.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-whatis'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"1394c37195bee3b8ed7cce6340323f9e53bd3868"</span>, <span class="s2">"before"</span>: <span class="s2">"1394c37195bee3b8ed7cce6340323f9e53bd3868"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-whatis"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/rkh/rbenv-whatis.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.0.0"</span><span class="o">}]}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE git <span class="nv">repo</span><span class="o">=</span>git://github.com/rkh/rbenv-use.git <span class="nv">dest</span><span class="o">=</span>~/.rbenv/plugins/rbenv-use <span class="nv">version</span><span class="o">=</span>v1.0.0
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'repo'</span>: <span class="s1">'git://github.com/rkh/rbenv-use.git'</span>, <span class="s1">'version'</span>: <span class="s1">'v1.0.0'</span>, <span class="s1">'name'</span>: <span class="s1">'rbenv-use'</span><span class="o">}])</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"after"</span>: <span class="s2">"bb329487ba783bf42ce4610eeb3292a42a999126"</span>, <span class="s2">"before"</span>: <span class="s2">"bb329487ba783bf42ce4610eeb3292a42a999126"</span>, <span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">[{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"rbenv-use"</span>, <span class="s2">"repo"</span>: <span class="s2">"git://github.com/rkh/rbenv-use.git"</span>, <span class="s2">"version"</span>: <span class="s2">"v1.0.0"</span><span class="o">}]}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> add rbenv initialization to profile<span class="o">]</span> **********************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 0, <span class="s2">"group"</span>: <span class="s2">"root"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"root"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/profile.d/rbenv.sh"</span>, <span class="s2">"size"</span>: 132, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 0<span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> <span class="nb">set </span>default-gems<span class="o">]</span> *****************************************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/var/git/.rbenv/default-gems"</span>, <span class="s2">"size"</span>: 8, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/home/gitlab/.rbenv/default-gems"</span>, <span class="s2">"size"</span>: 8, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> <span class="nb">set </span>gemrc<span class="o">]</span> ************************************************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/var/git/.gemrc"</span>, <span class="s2">"size"</span>: 90, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/home/gitlab/.gemrc"</span>, <span class="s2">"size"</span>: 90, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> <span class="nb">set </span>vars<span class="o">]</span> *************************************************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/var/git/.rbenv/vars"</span>, <span class="s2">"size"</span>: 31, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/home/gitlab/.rbenv/vars"</span>, <span class="s2">"size"</span>: 31, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> check ruby <span class="o">{{</span>rbenv.ruby_version<span class="o">}}</span> installed<span class="o">]</span> **************
&lt;127.0.0.1&gt; REMOTE_MODULE <span class="nb">command </span>bash -lc <span class="s2">"rbenv versions | grep 2.0.0-p247"</span> <span class="c">#USE_SHELL</span>
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"cmd"</span>: <span class="s2">"bash -lc \"rbenv versions | grep 2.0.0-p247\" "</span>, <span class="s2">"delta"</span>: <span class="s2">"0:00:00.372556"</span>, <span class="s2">"end"</span>: <span class="s2">"2014-01-06 19:25:00.000629"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"rc"</span>: 0, <span class="s2">"start"</span>: <span class="s2">"2014-01-06 19:24:59.628073"</span>, <span class="s2">"stderr"</span>: <span class="s2">""</span>, <span class="s2">"stdout"</span>: <span class="s2">"* 2.0.0-p247 (set by /home/vagrant/.rbenv/version)"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> install ruby <span class="o">{{</span>rbenv.ruby_version<span class="o">}}]</span> **********************
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> install ruby <span class="o">{{</span>rbenv.ruby_version<span class="o">}}]</span> **********************
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> check ruby <span class="o">{{</span>rbenv.ruby_version<span class="o">}}</span> installed<span class="o">]</span> **************
&lt;127.0.0.1&gt; REMOTE_MODULE <span class="nb">command </span>bash -lc <span class="s2">"rbenv versions | grep 2.0.0-p247"</span> <span class="c">#USE_SHELL</span>
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"cmd"</span>: <span class="s2">"bash -lc \"rbenv versions | grep 2.0.0-p247\" "</span>, <span class="s2">"delta"</span>: <span class="s2">"0:00:00.324696"</span>, <span class="s2">"end"</span>: <span class="s2">"2014-01-06 19:25:00.611363"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"rc"</span>: 0, <span class="s2">"start"</span>: <span class="s2">"2014-01-06 19:25:00.286667"</span>, <span class="s2">"stderr"</span>: <span class="s2">""</span>, <span class="s2">"stdout"</span>: <span class="s2">"* 2.0.0-p247 (set by /var/git/.rbenv/version)"</span><span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE <span class="nb">command </span>bash -lc <span class="s2">"rbenv versions | grep 2.0.0-p247"</span> <span class="c">#USE_SHELL</span>
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"cmd"</span>: <span class="s2">"bash -lc \"rbenv versions | grep 2.0.0-p247\" "</span>, <span class="s2">"delta"</span>: <span class="s2">"0:00:00.349143"</span>, <span class="s2">"end"</span>: <span class="s2">"2014-01-06 19:25:01.298762"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"rc"</span>: 0, <span class="s2">"start"</span>: <span class="s2">"2014-01-06 19:25:00.949619"</span>, <span class="s2">"stderr"</span>: <span class="s2">""</span>, <span class="s2">"stdout"</span>: <span class="s2">"* 2.0.0-p247 (set by /home/gitlab/.rbenv/version)"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> chown permission to .rbenv directory<span class="o">]</span> *********************
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'item'</span>: <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, u<span class="s1">'delta'</span>: u<span class="s1">'0:00:00.324696'</span>, u<span class="s1">'cmd'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247" '</span>, u<span class="s1">'end'</span>: u<span class="s1">'2014-01-06 19:25:00.611363'</span>, u<span class="s1">'stderr'</span>: u<span class="s1">''</span>, u<span class="s1">'stdout'</span>: u<span class="s1">'* 2.0.0-p247 (set by /var/git/.rbenv/version)'</span>, <span class="s1">'invocation'</span>: <span class="o">{</span><span class="s1">'module_name'</span>: <span class="s1">'shell'</span>, <span class="s1">'module_args'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247"'</span><span class="o">}</span>, u<span class="s1">'changed'</span>: True, u<span class="s1">'rc'</span>: 0, u<span class="s1">'start'</span>: u<span class="s1">'2014-01-06 19:25:00.286667'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}])</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'item'</span>: <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, u<span class="s1">'delta'</span>: u<span class="s1">'0:00:00.349143'</span>, u<span class="s1">'cmd'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247" '</span>, u<span class="s1">'end'</span>: u<span class="s1">'2014-01-06 19:25:01.298762'</span>, u<span class="s1">'stderr'</span>: u<span class="s1">''</span>, u<span class="s1">'stdout'</span>: u<span class="s1">'* 2.0.0-p247 (set by /home/gitlab/.rbenv/version)'</span>, <span class="s1">'invocation'</span>: <span class="o">{</span><span class="s1">'module_name'</span>: <span class="s1">'shell'</span>, <span class="s1">'module_args'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247"'</span><span class="o">}</span>, u<span class="s1">'changed'</span>: True, u<span class="s1">'rc'</span>: 0, u<span class="s1">'start'</span>: u<span class="s1">'2014-01-06 19:25:00.949619'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}])</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> install ruby <span class="o">{{</span>rbenv.ruby_version<span class="o">}}]</span> **********************
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'item'</span>: <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, u<span class="s1">'delta'</span>: u<span class="s1">'0:00:00.324696'</span>, u<span class="s1">'cmd'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247" '</span>, u<span class="s1">'end'</span>: u<span class="s1">'2014-01-06 19:25:00.611363'</span>, u<span class="s1">'stderr'</span>: u<span class="s1">''</span>, u<span class="s1">'stdout'</span>: u<span class="s1">'* 2.0.0-p247 (set by /var/git/.rbenv/version)'</span>, <span class="s1">'invocation'</span>: <span class="o">{</span><span class="s1">'module_name'</span>: <span class="s1">'shell'</span>, <span class="s1">'module_args'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247"'</span><span class="o">}</span>, u<span class="s1">'changed'</span>: True, u<span class="s1">'rc'</span>: 0, u<span class="s1">'start'</span>: u<span class="s1">'2014-01-06 19:25:00.286667'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}])</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'item'</span>: <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, u<span class="s1">'delta'</span>: u<span class="s1">'0:00:00.349143'</span>, u<span class="s1">'cmd'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247" '</span>, u<span class="s1">'end'</span>: u<span class="s1">'2014-01-06 19:25:01.298762'</span>, u<span class="s1">'stderr'</span>: u<span class="s1">''</span>, u<span class="s1">'stdout'</span>: u<span class="s1">'* 2.0.0-p247 (set by /home/gitlab/.rbenv/version)'</span>, <span class="s1">'invocation'</span>: <span class="o">{</span><span class="s1">'module_name'</span>: <span class="s1">'shell'</span>, <span class="s1">'module_args'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247"'</span><span class="o">}</span>, u<span class="s1">'changed'</span>: True, u<span class="s1">'rc'</span>: 0, u<span class="s1">'start'</span>: u<span class="s1">'2014-01-06 19:25:00.949619'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}])</span>

TASK: <span class="o">[</span>zzet.rbenv <span class="p">|</span> install ruby <span class="o">{{</span>rbenv.ruby_version<span class="o">}}]</span> **********************
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'item'</span>: <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, u<span class="s1">'delta'</span>: u<span class="s1">'0:00:00.324696'</span>, u<span class="s1">'cmd'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247" '</span>, u<span class="s1">'end'</span>: u<span class="s1">'2014-01-06 19:25:00.611363'</span>, u<span class="s1">'stderr'</span>: u<span class="s1">''</span>, u<span class="s1">'stdout'</span>: u<span class="s1">'* 2.0.0-p247 (set by /var/git/.rbenv/version)'</span>, <span class="s1">'invocation'</span>: <span class="o">{</span><span class="s1">'module_name'</span>: <span class="s1">'shell'</span>, <span class="s1">'module_args'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247"'</span><span class="o">}</span>, u<span class="s1">'changed'</span>: True, u<span class="s1">'rc'</span>: 0, u<span class="s1">'start'</span>: u<span class="s1">'2014-01-06 19:25:00.286667'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}])</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=[{</span><span class="s1">'item'</span>: <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}</span>, u<span class="s1">'delta'</span>: u<span class="s1">'0:00:00.349143'</span>, u<span class="s1">'cmd'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247" '</span>, u<span class="s1">'end'</span>: u<span class="s1">'2014-01-06 19:25:01.298762'</span>, u<span class="s1">'stderr'</span>: u<span class="s1">''</span>, u<span class="s1">'stdout'</span>: u<span class="s1">'* 2.0.0-p247 (set by /home/gitlab/.rbenv/version)'</span>, <span class="s1">'invocation'</span>: <span class="o">{</span><span class="s1">'module_name'</span>: <span class="s1">'shell'</span>, <span class="s1">'module_args'</span>: u<span class="s1">'bash -lc "rbenv versions | grep 2.0.0-p247"'</span><span class="o">}</span>, u<span class="s1">'changed'</span>: True, u<span class="s1">'rc'</span>: 0, u<span class="s1">'start'</span>: u<span class="s1">'2014-01-06 19:25:00.949619'</span><span class="o">}</span>, <span class="o">{</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">}])</span>

TASK: <span class="o">[</span>zzet.postgresql <span class="p">|</span> Add repository<span class="o">]</span> **************************************
&lt;127.0.0.1&gt; REMOTE_MODULE apt_repository <span class="nv">repo</span><span class="o">=</span><span class="s1">'ppa:pitti/postgresql'</span>
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"repo"</span>: <span class="s2">"ppa:pitti/postgresql"</span>, <span class="s2">"state"</span>: <span class="s2">"present"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.postgresql <span class="p">|</span> Ensure apt cache is up to date<span class="o">]</span> **********************
&lt;127.0.0.1&gt; REMOTE_MODULE apt <span class="nv">update_cache</span><span class="o">=</span>yes
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">""</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.postgresql <span class="p">|</span> Ensure packages are installed<span class="o">]</span> ***********************
&lt;127.0.0.1&gt; REMOTE_MODULE apt <span class="nv">pkg</span><span class="o">=</span>postgresql-9.2,postgresql-client-9.2,postgresql-contrib-9.2,postgresql-server-dev-9.2,libpq-dev,python-psycopg2
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>postgresql-9.2,postgresql-client-9.2,postgresql-contrib-9.2,postgresql-server-dev-9.2,libpq-dev,python-psycopg2<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">"postgresql-9.2,postgresql-client-9.2,postgresql-contrib-9.2,postgresql-server-dev-9.2,libpq-dev,python-psycopg2"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.postgresql <span class="p">|</span> Setup postgres cluster to default to utf8 <span class="p">|</span> stop cluster<span class="o">]</span> ***
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>zzet.postgresql <span class="p">|</span> Setup postgres cluster to default to utf8 <span class="p">|</span> start cluster<span class="o">]</span> ***
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>zzet.postgresql <span class="p">|</span> Update pg_hba.conf file<span class="o">]</span> *****************************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 112, <span class="s2">"group"</span>: <span class="s2">"postgres"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0640"</span>, <span class="s2">"owner"</span>: <span class="s2">"postgres"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/postgresql/9.2/main/pg_hba.conf"</span>, <span class="s2">"size"</span>: 647, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 106<span class="o">}</span>

TASK: <span class="o">[</span>zzet.postgresql <span class="p">|</span> Update postgres.conf file<span class="o">]</span> ***************************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 112, <span class="s2">"group"</span>: <span class="s2">"postgres"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"postgres"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/postgresql/9.2/main/postgresql.conf"</span>, <span class="s2">"size"</span>: 25520, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 106<span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.redis <span class="p">|</span> Add the OS specific varibles<span class="o">]</span> *************************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"ansible_facts"</span>: <span class="o">{</span><span class="s2">"redis_conf_dest"</span>: <span class="s2">"/etc/redis/redis.conf"</span>, <span class="s2">"redis_service"</span>: <span class="s2">"redis-server"</span><span class="o">}</span>, <span class="s2">"item"</span>: <span class="s2">""</span><span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.redis <span class="p">|</span> Install the epel packages<span class="o">]</span> ****************************
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>bennojoy.redis <span class="p">|</span> Install the Redis packages<span class="o">]</span> ***************************
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>bennojoy.redis <span class="p">|</span> Install the Redis packages<span class="o">]</span> ***************************
&lt;127.0.0.1&gt; REMOTE_MODULE apt <span class="nv">name</span><span class="o">=</span>python-selinux,redis-server <span class="nv">state</span><span class="o">=</span>present <span class="nv">update_cache</span><span class="o">=</span>yes
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>python-selinux,redis-server<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">"python-selinux,redis-server"</span><span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.redis <span class="p">|</span> Copy the redis configuration file<span class="o">]</span> ********************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 0, <span class="s2">"group"</span>: <span class="s2">"root"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"root"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/redis/redis.conf"</span>, <span class="s2">"size"</span>: 17625, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 0<span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.redis <span class="p">|</span> Set the kernel paramter <span class="k">for</span> vm overcommit<span class="o">]</span> ************
&lt;127.0.0.1&gt; REMOTE_MODULE sysctl <span class="nv">name</span><span class="o">=</span>vm.overcommit_memory <span class="nv">value</span><span class="o">=</span><span class="m">1</span> <span class="nv">state</span><span class="o">=</span>present
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"checks"</span>: <span class="s2">"both"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"name"</span>: <span class="s2">"vm.overcommit_memory"</span>, <span class="s2">"reload"</span>: <span class="nb">true</span>, <span class="s2">"state"</span>: <span class="s2">"present"</span>, <span class="s2">"sysctl_file"</span>: <span class="s2">"/etc/sysctl.conf"</span>, <span class="s2">"value"</span>: <span class="s2">"1"</span><span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.redis <span class="p">|</span> start the redis service<span class="o">]</span> ******************************
&lt;127.0.0.1&gt; REMOTE_MODULE service <span class="nv">name</span><span class="o">=</span>redis-server <span class="nv">state</span><span class="o">=</span>started <span class="nv">enabled</span><span class="o">=</span>yes
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"enabled"</span>: <span class="nb">true</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"name"</span>: <span class="s2">"redis-server"</span>, <span class="s2">"state"</span>: <span class="s2">"started"</span><span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Install the selinux python module<span class="o">]</span> ********************
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Copy the epel packages<span class="o">]</span> *******************************
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Install the nginx packages<span class="o">]</span> ***************************
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Install the nginx packages<span class="o">]</span> ***************************
&lt;127.0.0.1&gt; REMOTE_MODULE apt <span class="nv">name</span><span class="o">=</span>python-selinux,nginx <span class="nv">state</span><span class="o">=</span>present <span class="nv">update_cache</span><span class="o">=</span>yes
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>python-selinux,nginx<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">"python-selinux,nginx"</span><span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Create the directories <span class="k">for</span> site specific configurations<span class="o">]</span> ***
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">path</span><span class="o">=</span>/etc/nginx/sites-available <span class="nv">state</span><span class="o">=</span>directory <span class="nv">owner</span><span class="o">=</span>root <span class="nv">group</span><span class="o">=</span>root <span class="nv">mode</span><span class="o">=</span>0755
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>sites-available<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 0, <span class="s2">"group"</span>: <span class="s2">"root"</span>, <span class="s2">"item"</span>: <span class="s2">"sites-available"</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"root"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/nginx/sites-available"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 0<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">path</span><span class="o">=</span>/etc/nginx/sites-enabled <span class="nv">state</span><span class="o">=</span>directory <span class="nv">owner</span><span class="o">=</span>root <span class="nv">group</span><span class="o">=</span>root <span class="nv">mode</span><span class="o">=</span>0755
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>sites-enabled<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 0, <span class="s2">"group"</span>: <span class="s2">"root"</span>, <span class="s2">"item"</span>: <span class="s2">"sites-enabled"</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"root"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/nginx/sites-enabled"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 0<span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Copy the nginx configuration file<span class="o">]</span> ********************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 0, <span class="s2">"group"</span>: <span class="s2">"root"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"root"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/nginx/nginx.conf"</span>, <span class="s2">"size"</span>: 730, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 0<span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Copy the nginx default configuration file<span class="o">]</span> ************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1000, <span class="s2">"group"</span>: <span class="s2">"vagrant"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0600"</span>, <span class="s2">"owner"</span>: <span class="s2">"vagrant"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/nginx/conf.d/default.conf"</span>, <span class="s2">"size"</span>: 180, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1000<span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Copy the nginx default site configuration file<span class="o">]</span> *******
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 0, <span class="s2">"group"</span>: <span class="s2">"root"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0644"</span>, <span class="s2">"owner"</span>: <span class="s2">"root"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/nginx/sites-available/default"</span>, <span class="s2">"size"</span>: 175, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 0<span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Create the link <span class="k">for</span> site enabled specific configurations<span class="o">]</span> ***
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">path</span><span class="o">=</span>/etc/nginx/sites-enabled/default <span class="nv">state</span><span class="o">=</span>link <span class="nv">src</span><span class="o">=</span>/etc/nginx/sites-available/default
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"dest"</span>: <span class="s2">"/etc/nginx/sites-enabled/default"</span>, <span class="s2">"gid"</span>: 0, <span class="s2">"group"</span>: <span class="s2">"root"</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"mode"</span>: <span class="s2">"0777"</span>, <span class="s2">"owner"</span>: <span class="s2">"root"</span>, <span class="s2">"size"</span>: 34, <span class="s2">"src"</span>: <span class="s2">"/etc/nginx/sites-available/default"</span>, <span class="s2">"state"</span>: <span class="s2">"link"</span>, <span class="s2">"uid"</span>: 0<span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> Create the configurations <span class="k">for</span> sites<span class="o">]</span> ******************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'server'</span>: <span class="o">{</span><span class="s1">'server_name'</span>: <span class="s1">'localhost'</span>, <span class="s1">'file_name'</span>: <span class="s1">'foo'</span>, <span class="s1">'location2'</span>: <span class="o">{</span><span class="s1">'name'</span>: <span class="s1">'/images/'</span>, <span class="s1">'try_files'</span>: u<span class="s1">'$uri $uri/ /index.html'</span><span class="o">}</span>, <span class="s1">'location1'</span>: <span class="o">{</span><span class="s1">'name'</span>: <span class="s1">'/'</span>, <span class="s1">'try_files'</span>: u<span class="s1">'$uri $uri/ /index.html'</span><span class="o">}</span>, <span class="s1">'root'</span>: <span class="s1">'/tmp/site1'</span>, <span class="s1">'listen'</span>: 8080<span class="o">}})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1000, <span class="s2">"group"</span>: <span class="s2">"vagrant"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"server"</span>: <span class="o">{</span><span class="s2">"file_name"</span>: <span class="s2">"foo"</span>, <span class="s2">"listen"</span>: 8080, <span class="s2">"location1"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"/"</span>, <span class="s2">"try_files"</span>: <span class="s2">"$uri $uri/ /index.html"</span><span class="o">}</span>, <span class="s2">"location2"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"/images/"</span>, <span class="s2">"try_files"</span>: <span class="s2">"$uri $uri/ /index.html"</span><span class="o">}</span>, <span class="s2">"root"</span>: <span class="s2">"/tmp/site1"</span>, <span class="s2">"server_name"</span>: <span class="s2">"localhost"</span><span class="o">}}</span>, <span class="s2">"mode"</span>: <span class="s2">"0600"</span>, <span class="s2">"owner"</span>: <span class="s2">"vagrant"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/nginx/conf.d/foo.conf"</span>, <span class="s2">"size"</span>: 197, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1000<span class="o">}</span>
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'server'</span>: <span class="o">{</span><span class="s1">'server_name'</span>: <span class="s1">'ansible'</span>, <span class="s1">'file_name'</span>: <span class="s1">'bar'</span>, <span class="s1">'location2'</span>: <span class="o">{</span><span class="s1">'name'</span>: <span class="s1">'/images/'</span>, <span class="s1">'try_files'</span>: u<span class="s1">'$uri $uri/ /index.html'</span><span class="o">}</span>, <span class="s1">'location1'</span>: <span class="o">{</span><span class="s1">'name'</span>: <span class="s1">'/'</span>, <span class="s1">'try_files'</span>: u<span class="s1">'$uri $uri/ /index.html'</span><span class="o">}</span>, <span class="s1">'root'</span>: <span class="s1">'/tmp/site2'</span>, <span class="s1">'listen'</span>: 9090<span class="o">}})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1000, <span class="s2">"group"</span>: <span class="s2">"vagrant"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"server"</span>: <span class="o">{</span><span class="s2">"file_name"</span>: <span class="s2">"bar"</span>, <span class="s2">"listen"</span>: 9090, <span class="s2">"location1"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"/"</span>, <span class="s2">"try_files"</span>: <span class="s2">"$uri $uri/ /index.html"</span><span class="o">}</span>, <span class="s2">"location2"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"/images/"</span>, <span class="s2">"try_files"</span>: <span class="s2">"$uri $uri/ /index.html"</span><span class="o">}</span>, <span class="s2">"root"</span>: <span class="s2">"/tmp/site2"</span>, <span class="s2">"server_name"</span>: <span class="s2">"ansible"</span><span class="o">}}</span>, <span class="s2">"mode"</span>: <span class="s2">"0600"</span>, <span class="s2">"owner"</span>: <span class="s2">"vagrant"</span>, <span class="s2">"path"</span>: <span class="s2">"/etc/nginx/conf.d/bar.conf"</span>, <span class="s2">"size"</span>: 195, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1000<span class="o">}</span>

TASK: <span class="o">[</span>bennojoy.nginx <span class="p">|</span> start the nginx service<span class="o">]</span> ******************************
&lt;127.0.0.1&gt; REMOTE_MODULE service <span class="nv">name</span><span class="o">=</span>nginx <span class="nv">state</span><span class="o">=</span>started <span class="nv">enabled</span><span class="o">=</span>yes
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"enabled"</span>: <span class="nb">true</span>, <span class="s2">"item"</span>: <span class="s2">""</span>, <span class="s2">"name"</span>: <span class="s2">"nginx"</span>, <span class="s2">"state"</span>: <span class="s2">"started"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> include env vars<span class="o">]</span> ****************************************
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"ansible_facts"</span>: <span class="o">{</span><span class="s2">"gitlab_env"</span>: <span class="s2">"development"</span>, <span class="s2">"gitlab_web_branch"</span>: <span class="s2">"develop"</span>, <span class="s2">"gitlab_web_databases"</span>: <span class="o">[{</span><span class="s2">"adapter"</span>: <span class="s2">"postgresql"</span>, <span class="s2">"encoding"</span>: <span class="s2">"UTF-8"</span>, <span class="s2">"locale"</span>: <span class="s2">"en_US.UTF-8"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab_development"</span>, <span class="s2">"password"</span>: <span class="s2">""</span>, <span class="s2">"role_attr_flags"</span>: <span class="s2">"NOSUPERUSER,CREATEDB"</span>, <span class="s2">"user"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="o">{</span><span class="s2">"adapter"</span>: <span class="s2">"postgresql"</span>, <span class="s2">"encoding"</span>: <span class="s2">"UTF-8"</span>, <span class="s2">"locale"</span>: <span class="s2">"en_US.UTF-8"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab_test"</span>, <span class="s2">"password"</span>: <span class="s2">""</span>, <span class="s2">"role_attr_flags"</span>: <span class="s2">"NOSUPERUSER,CREATEDB"</span>, <span class="s2">"user"</span>: <span class="s2">"gitlab"</span><span class="o">}]</span>, <span class="s2">"gitlab_web_repo"</span>: <span class="s2">"git://github.com/Undev/gitlabhq.git"</span>, <span class="s2">"gitlab_web_version"</span>: <span class="s2">"6.4"</span><span class="o">}</span>, <span class="s2">"item"</span>: <span class="s2">""</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> install dependencies<span class="o">]</span> ************************************
&lt;127.0.0.1&gt; REMOTE_MODULE apt <span class="nv">name</span><span class="o">=</span>build-essential,zlib1g-dev,libyaml-dev,libssl-dev,libgdbm-dev,libreadline-dev,libncurses5-dev,libffi-dev,curl,git-core,openssh-server,checkinstall,libxml2-dev,libxslt1-dev,libcurl4-openssl-dev,libicu-dev,python,openssl <span class="nv">state</span><span class="o">=</span>present <span class="nv">update_cache</span><span class="o">=</span>yes <span class="nv">cache_valid_time</span><span class="o">=</span>900
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">=</span>build-essential,zlib1g-dev,libyaml-dev,libssl-dev,libgdbm-dev,libreadline-dev,libncurses5-dev,libffi-dev,curl,git-core,openssh-server,checkinstall,libxml2-dev,libxslt1-dev,libcurl4-openssl-dev,libicu-dev,python,openssl<span class="o">)</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="s2">"build-essential,zlib1g-dev,libyaml-dev,libssl-dev,libgdbm-dev,libreadline-dev,libncurses5-dev,libffi-dev,curl,git-core,openssh-server,checkinstall,libxml2-dev,libxslt1-dev,libcurl4-openssl-dev,libicu-dev,python,openssl"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> ensgure created <span class="o">{{</span>item.comment<span class="o">}}]</span> ************************
&lt;127.0.0.1&gt; REMOTE_MODULE user <span class="nv">state</span><span class="o">=</span>present <span class="nv">name</span><span class="o">=</span>git <span class="nv">comment</span><span class="o">=</span><span class="s2">"Gitlab git and run user"</span> <span class="nv">home</span><span class="o">=</span>/var/git <span class="nv">groups</span><span class="o">=</span>git,gitlab <span class="nv">generate_ssh_key</span><span class="o">=</span>yes
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"append"</span>: <span class="nb">false</span>, <span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"group"</span>: 1003, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span>, <span class="s2">"shell"</span>: <span class="s2">"/bin/sh"</span>, <span class="s2">"ssh_fingerprint"</span>: <span class="s2">"2048 43:d4:f9:67:38:73:20:09:e9:f9:26:3a:42:bf:54:09  ansible-generated (RSA)"</span>, <span class="s2">"ssh_key_file"</span>: <span class="s2">"/var/git/.ssh/id_rsa"</span>, <span class="s2">"ssh_public_key"</span>: <span class="s2">"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDfg9/CVEyA/5qVJnH3whgnMeqh7Ivg/S04yY6MBosKslGAFYB/iTCBRO1eoYYH2Hu5VzlhUVJaibR4Dj8VgX9Pvj6RZwncDPBtlQwosenssqNdPKaVkp4TKAbjbXolTbeLWiBFgeKazoTlqzEiBr+/4Fvf+geqh3htf4OScQXTEccRDqSE9c0y90mvfftYfdsr1b5KwVW6FF7CqzZ1ekDU9RKruUmk21nhIBfSm7qh47tBUDoYXRAwHEbEUeh3u0H1WwU4pKdONaYPYOxQZarOeD8KbsJnI3BWccDfKUi/I371JaUzzLxFbgh+6g7VKYsueeBE5r7IjQMXq0cZQvJ3 ansible-generated"</span>, <span class="s2">"state"</span>: <span class="s2">"present"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE user <span class="nv">state</span><span class="o">=</span>present <span class="nv">name</span><span class="o">=</span>gitlab <span class="nv">comment</span><span class="o">=</span><span class="s2">"Gitlab deploy user"</span> <span class="nv">home</span><span class="o">=</span>/home/gitlab <span class="nv">groups</span><span class="o">=</span>git,gitlab <span class="nv">generate_ssh_key</span><span class="o">=</span>yes
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"append"</span>: <span class="nb">false</span>, <span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"group"</span>: 1004, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"shell"</span>: <span class="s2">"/bin/sh"</span>, <span class="s2">"ssh_fingerprint"</span>: <span class="s2">"2048 7f:f4:79:1c:32:0d:b6:58:e7:b9:e1:3a:d9:3e:84:06  ansible-generated (RSA)"</span>, <span class="s2">"ssh_key_file"</span>: <span class="s2">"/home/gitlab/.ssh/id_rsa"</span>, <span class="s2">"ssh_public_key"</span>: <span class="s2">"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDTvJsbB4rqI8MeyywnyXqYbjPsOK4hKSrXw/+RNLCwIY97V2ncDzoZLBo6MXK7uQrfD/Q894CUqV9+SSiB7m3TRa1aeM6DLDdPY+P4OEVkex4C3khhanw8GmAoFiQ4vnZxYu10hT7WV1mHq69zLJ12F4jwMyE95h8sBG6So1IHAArcBN8+r33HaNaNH4NhpU3aZUgnnSkopKJru+97j9SEYNWapRiHnmGGigyor4Il5MqaYoeUUEJIxfieqUta/5pH5sN9+jR9SJ9InxXg1TEHGb+l/4Bn9QXZm1NSCC8AlmKzyGA6tdJPPJIkN0WUC4e0s8e1i97ZDcukhUPFO3x/ ansible-generated"</span>, <span class="s2">"state"</span>: <span class="s2">"present"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> enshure created <span class="o">{{</span>item.comment<span class="o">}}</span> .ssh directory<span class="o">]</span> *********
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/var/git/.ssh <span class="nv">owner</span><span class="o">=</span>git <span class="nv">group</span><span class="o">=</span>git <span class="nv">mode</span><span class="o">=</span>700
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab git and run user'</span>, <span class="s1">'home'</span>: <span class="s1">'/var/git'</span>, <span class="s1">'name'</span>: <span class="s1">'git'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab git and run user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/var/git"</span>, <span class="s2">"name"</span>: <span class="s2">"git"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0700"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/var/git/.ssh"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/home/gitlab/.ssh <span class="nv">owner</span><span class="o">=</span>gitlab <span class="nv">group</span><span class="o">=</span>gitlab <span class="nv">mode</span><span class="o">=</span>700
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0700"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/home/gitlab/.ssh"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> Upload SSH authorized_keys <span class="k">for</span> <span class="o">{{</span>item.comment<span class="o">}}</span>.<span class="o">]</span> ********
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'comment'</span>: <span class="s1">'Gitlab deploy user'</span>, <span class="s1">'home'</span>: <span class="s1">'/home/gitlab'</span>, <span class="s1">'name'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'groups'</span>: <span class="s1">'git,gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"comment"</span>: <span class="s2">"Gitlab deploy user"</span>, <span class="s2">"groups"</span>: <span class="s2">"git,gitlab"</span>, <span class="s2">"home"</span>: <span class="s2">"/home/gitlab"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0600"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/home/gitlab/.ssh/authorized_keys"</span>, <span class="s2">"size"</span>: 0, <span class="s2">"state"</span>: <span class="s2">"file"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> create project directory<span class="o">]</span> ********************************
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab <span class="nv">owner</span><span class="o">=</span>gitlab <span class="nv">group</span><span class="o">=</span>git
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'gitlab'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab'</span>, <span class="s1">'group'</span>: u<span class="s1">'git'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab/releases <span class="nv">owner</span><span class="o">=</span>gitlab <span class="nv">group</span><span class="o">=</span>git
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'gitlab'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab/releases'</span>, <span class="s1">'group'</span>: u<span class="s1">'git'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/releases"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/releases"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1002<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab/shared <span class="nv">owner</span><span class="o">=</span>git <span class="nv">group</span><span class="o">=</span>gitlab
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'git'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab/shared'</span>, <span class="s1">'group'</span>: u<span class="s1">'gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab/shared/gitlab-satellites <span class="nv">owner</span><span class="o">=</span>git <span class="nv">group</span><span class="o">=</span>gitlab
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'git'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab/shared/gitlab-satellites'</span>, <span class="s1">'group'</span>: u<span class="s1">'gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/gitlab-satellites"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/gitlab-satellites"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab/shared/uploads <span class="nv">owner</span><span class="o">=</span>git <span class="nv">group</span><span class="o">=</span>gitlab
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'git'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab/shared/uploads'</span>, <span class="s1">'group'</span>: u<span class="s1">'gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/uploads"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/uploads"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab/shared/log <span class="nv">owner</span><span class="o">=</span>git <span class="nv">group</span><span class="o">=</span>gitlab
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'git'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab/shared/log'</span>, <span class="s1">'group'</span>: u<span class="s1">'gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/log"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/log"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab/shared/system <span class="nv">owner</span><span class="o">=</span>git <span class="nv">group</span><span class="o">=</span>gitlab
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'git'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab/shared/system'</span>, <span class="s1">'group'</span>: u<span class="s1">'gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/system"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/system"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab/shared/pids <span class="nv">owner</span><span class="o">=</span>git <span class="nv">group</span><span class="o">=</span>gitlab
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'git'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab/shared/pids'</span>, <span class="s1">'group'</span>: u<span class="s1">'gitlab'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1004, <span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"gitlab"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/pids"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab/shared/pids"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab-shell <span class="nv">owner</span><span class="o">=</span>git <span class="nv">group</span><span class="o">=</span>git
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'git'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab-shell'</span>, <span class="s1">'group'</span>: u<span class="s1">'git'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab-shell"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab-shell"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE file <span class="nv">state</span><span class="o">=</span>directory <span class="nv">path</span><span class="o">=</span>/rest/u/apps/gitlab-shell/releases <span class="nv">owner</span><span class="o">=</span>git <span class="nv">group</span><span class="o">=</span>git
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'owner'</span>: u<span class="s1">'git'</span>, <span class="s1">'path'</span>: u<span class="s1">'/rest/u/apps/gitlab-shell/releases'</span>, <span class="s1">'group'</span>: u<span class="s1">'git'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"gid"</span>: 1003, <span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"group"</span>: <span class="s2">"git"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab-shell/releases"</span><span class="o">}</span>, <span class="s2">"mode"</span>: <span class="s2">"0755"</span>, <span class="s2">"owner"</span>: <span class="s2">"git"</span>, <span class="s2">"path"</span>: <span class="s2">"/rest/u/apps/gitlab-shell/releases"</span>, <span class="s2">"size"</span>: 4096, <span class="s2">"state"</span>: <span class="s2">"directory"</span>, <span class="s2">"uid"</span>: 1001<span class="o">}</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> postgresql <span class="p">|</span> ensure user does not have unnecessary privilege <span class="o">({{</span>gitlab_env<span class="o">}}</span> enviroment<span class="o">)]</span> ***
&lt;127.0.0.1&gt; REMOTE_MODULE postgresql_user <span class="nv">name</span><span class="o">=</span>gitlab <span class="nv">password</span><span class="o">=</span> <span class="nv">role_attr_flags</span><span class="o">=</span>NOSUPERUSER,CREATEDB
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'name'</span>: <span class="s1">'gitlab_development'</span>, <span class="s1">'encoding'</span>: <span class="s1">'UTF-8'</span>, <span class="s1">'locale'</span>: <span class="s1">'en_US.UTF-8'</span>, <span class="s1">'adapter'</span>: <span class="s1">'postgresql'</span>, <span class="s1">'user'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'password'</span>: <span class="s1">''</span>, <span class="s1">'role_attr_flags'</span>: <span class="s1">'NOSUPERUSER,CREATEDB'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"adapter"</span>: <span class="s2">"postgresql"</span>, <span class="s2">"encoding"</span>: <span class="s2">"UTF-8"</span>, <span class="s2">"locale"</span>: <span class="s2">"en_US.UTF-8"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab_development"</span>, <span class="s2">"password"</span>: <span class="s2">""</span>, <span class="s2">"role_attr_flags"</span>: <span class="s2">"NOSUPERUSER,CREATEDB"</span>, <span class="s2">"user"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"user"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE postgresql_user <span class="nv">name</span><span class="o">=</span>gitlab <span class="nv">password</span><span class="o">=</span> <span class="nv">role_attr_flags</span><span class="o">=</span>NOSUPERUSER,CREATEDB
ok: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'name'</span>: <span class="s1">'gitlab_test'</span>, <span class="s1">'encoding'</span>: <span class="s1">'UTF-8'</span>, <span class="s1">'locale'</span>: <span class="s1">'en_US.UTF-8'</span>, <span class="s1">'adapter'</span>: <span class="s1">'postgresql'</span>, <span class="s1">'user'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'password'</span>: <span class="s1">''</span>, <span class="s1">'role_attr_flags'</span>: <span class="s1">'NOSUPERUSER,CREATEDB'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">false</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"adapter"</span>: <span class="s2">"postgresql"</span>, <span class="s2">"encoding"</span>: <span class="s2">"UTF-8"</span>, <span class="s2">"locale"</span>: <span class="s2">"en_US.UTF-8"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab_test"</span>, <span class="s2">"password"</span>: <span class="s2">""</span>, <span class="s2">"role_attr_flags"</span>: <span class="s2">"NOSUPERUSER,CREATEDB"</span>, <span class="s2">"user"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>, <span class="s2">"user"</span>: <span class="s2">"gitlab"</span><span class="o">}</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> postgresql <span class="p">|</span> ensure <span class="o">{{</span>gitlab_env<span class="o">}}</span> database is created<span class="o">]</span> ***
&lt;127.0.0.1&gt; REMOTE_MODULE postgresql_db <span class="nv">name</span><span class="o">=</span>gitlab_development <span class="nv">owner</span><span class="o">=</span>gitlab <span class="nv">encoding</span><span class="o">=</span>UTF-8 <span class="nv">lc_collate</span><span class="o">=</span>en_US.UTF-8 <span class="nv">lc_ctype</span><span class="o">=</span>en_US.UTF-8 <span class="nv">template</span><span class="o">=</span><span class="s1">'template0'</span> <span class="nv">state</span><span class="o">=</span>present
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'name'</span>: <span class="s1">'gitlab_development'</span>, <span class="s1">'encoding'</span>: <span class="s1">'UTF-8'</span>, <span class="s1">'locale'</span>: <span class="s1">'en_US.UTF-8'</span>, <span class="s1">'adapter'</span>: <span class="s1">'postgresql'</span>, <span class="s1">'user'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'password'</span>: <span class="s1">''</span>, <span class="s1">'role_attr_flags'</span>: <span class="s1">'NOSUPERUSER,CREATEDB'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"db"</span>: <span class="s2">"gitlab_development"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"adapter"</span>: <span class="s2">"postgresql"</span>, <span class="s2">"encoding"</span>: <span class="s2">"UTF-8"</span>, <span class="s2">"locale"</span>: <span class="s2">"en_US.UTF-8"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab_development"</span>, <span class="s2">"password"</span>: <span class="s2">""</span>, <span class="s2">"role_attr_flags"</span>: <span class="s2">"NOSUPERUSER,CREATEDB"</span>, <span class="s2">"user"</span>: <span class="s2">"gitlab"</span><span class="o">}}</span>
&lt;127.0.0.1&gt; REMOTE_MODULE postgresql_db <span class="nv">name</span><span class="o">=</span>gitlab_test <span class="nv">owner</span><span class="o">=</span>gitlab <span class="nv">encoding</span><span class="o">=</span>UTF-8 <span class="nv">lc_collate</span><span class="o">=</span>en_US.UTF-8 <span class="nv">lc_ctype</span><span class="o">=</span>en_US.UTF-8 <span class="nv">template</span><span class="o">=</span><span class="s1">'template0'</span> <span class="nv">state</span><span class="o">=</span>present
changed: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'name'</span>: <span class="s1">'gitlab_test'</span>, <span class="s1">'encoding'</span>: <span class="s1">'UTF-8'</span>, <span class="s1">'locale'</span>: <span class="s1">'en_US.UTF-8'</span>, <span class="s1">'adapter'</span>: <span class="s1">'postgresql'</span>, <span class="s1">'user'</span>: <span class="s1">'gitlab'</span>, <span class="s1">'password'</span>: <span class="s1">''</span>, <span class="s1">'role_attr_flags'</span>: <span class="s1">'NOSUPERUSER,CREATEDB'</span><span class="o">})</span> <span class="o">=</span>&gt; <span class="o">{</span><span class="s2">"changed"</span>: <span class="nb">true</span>, <span class="s2">"db"</span>: <span class="s2">"gitlab_test"</span>, <span class="s2">"item"</span>: <span class="o">{</span><span class="s2">"adapter"</span>: <span class="s2">"postgresql"</span>, <span class="s2">"encoding"</span>: <span class="s2">"UTF-8"</span>, <span class="s2">"locale"</span>: <span class="s2">"en_US.UTF-8"</span>, <span class="s2">"name"</span>: <span class="s2">"gitlab_test"</span>, <span class="s2">"password"</span>: <span class="s2">""</span>, <span class="s2">"role_attr_flags"</span>: <span class="s2">"NOSUPERUSER,CREATEDB"</span>, <span class="s2">"user"</span>: <span class="s2">"gitlab"</span><span class="o">}}</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> nginx <span class="p">|</span> update nginx config<span class="o">]</span> *****************************
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> nginx <span class="p">|</span> <span class="nb">enable </span>app<span class="o">]</span> **************************************
skipping: <span class="o">[</span>default<span class="o">]</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> runit <span class="p">|</span> create application  script directory<span class="o">]</span> ************
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'post_receive,build_result,project_web_hook,system_hook,common,default'</span>, <span class="s1">'concurency'</span>: 5, <span class="s1">'name'</span>: <span class="s1">'main'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'mail_notifications,mailer'</span>, <span class="s1">'concurency'</span>: 10, <span class="s1">'name'</span>: <span class="s1">'mail'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'gitlab_shell'</span>, <span class="s1">'concurency'</span>: 3, <span class="s1">'name'</span>: <span class="s1">'shell'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'web'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9000'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'api'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9001'</span><span class="o">})</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> runit <span class="p">|</span> create application  script log directory<span class="o">]</span> ********
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'post_receive,build_result,project_web_hook,system_hook,common,default'</span>, <span class="s1">'concurency'</span>: 5, <span class="s1">'name'</span>: <span class="s1">'main'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'mail_notifications,mailer'</span>, <span class="s1">'concurency'</span>: 10, <span class="s1">'name'</span>: <span class="s1">'mail'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'gitlab_shell'</span>, <span class="s1">'concurency'</span>: 3, <span class="s1">'name'</span>: <span class="s1">'shell'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'web'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9000'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'api'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9001'</span><span class="o">})</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> runit <span class="p">|</span> add application  script<span class="o">]</span> *************************
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'post_receive,build_result,project_web_hook,system_hook,common,default'</span>, <span class="s1">'concurency'</span>: 5, <span class="s1">'name'</span>: <span class="s1">'main'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'mail_notifications,mailer'</span>, <span class="s1">'concurency'</span>: 10, <span class="s1">'name'</span>: <span class="s1">'mail'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'gitlab_shell'</span>, <span class="s1">'concurency'</span>: 3, <span class="s1">'name'</span>: <span class="s1">'shell'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'web'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9000'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'api'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9001'</span><span class="o">})</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> runit <span class="p">|</span> add application  log run script<span class="o">]</span> *****************
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'post_receive,build_result,project_web_hook,system_hook,common,default'</span>, <span class="s1">'concurency'</span>: 5, <span class="s1">'name'</span>: <span class="s1">'main'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'mail_notifications,mailer'</span>, <span class="s1">'concurency'</span>: 10, <span class="s1">'name'</span>: <span class="s1">'mail'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'gitlab_shell'</span>, <span class="s1">'concurency'</span>: 3, <span class="s1">'name'</span>: <span class="s1">'shell'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'web'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9000'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'api'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9001'</span><span class="o">})</span>

TASK: <span class="o">[</span>zzet.gitlab <span class="p">|</span> runit <span class="p">|</span> symlink  dir to <span class="nb">enable </span>runit service<span class="o">]</span> ************
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'post_receive,build_result,project_web_hook,system_hook,common,default'</span>, <span class="s1">'concurency'</span>: 5, <span class="s1">'name'</span>: <span class="s1">'main'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'mail_notifications,mailer'</span>, <span class="s1">'concurency'</span>: 10, <span class="s1">'name'</span>: <span class="s1">'mail'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'queue'</span>: <span class="s1">'gitlab_shell'</span>, <span class="s1">'concurency'</span>: 3, <span class="s1">'name'</span>: <span class="s1">'shell'</span>, <span class="s1">'service'</span>: <span class="s1">'sidekiq'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'web'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9000'</span><span class="o">})</span>
skipping: <span class="o">[</span>default<span class="o">]</span> <span class="o">=</span>&gt; <span class="o">(</span><span class="nv">item</span><span class="o">={</span><span class="s1">'workers'</span>: 3, <span class="s1">'service'</span>: u<span class="s1">'puma'</span>, <span class="s1">'name'</span>: <span class="s1">'api'</span>, <span class="s1">'backlog'</span>: 1000, <span class="s1">'port'</span>: u<span class="s1">'9001'</span><span class="o">})</span>

PLAY RECAP ********************************************************************
default                    : <span class="nv">ok</span><span class="o">=</span><span class="m">57</span>   <span class="nv">changed</span><span class="o">=</span><span class="m">10</span>   <span class="nv">unreachable</span><span class="o">=</span><span class="m">0</span>    <span class="nv">failed</span><span class="o">=</span>0
</pre></div>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
